# <!-- Powered by BMAD™ Core -->

# Story 7.11: Footer & Navigation

## Status

Draft

## Story

**As a** user navigating the website,
**I want** a consistent footer and navigation across all pages,
**so that** I can easily access different sections.

## Acceptance Criteria

1. Global navigation bar includes: Logo (links to /), Features, Pricing, About, Blog, Contact
2. Authenticated users see additional nav items: Dashboard, Billing, Account
3. Nav includes CTA: "Sign Up" and "Log In" for unauthenticated users (i18n)
4. Nav is sticky at top of page with background blur on scroll
5. Mobile navigation collapses into hamburger menu
6. Footer includes 4 columns: Product, Company, Resources, Legal
7. **Product** column: Features, Pricing, Templates, Integrations (i18n)
8. **Company** column: About, Blog, Contact, Careers (i18n)
9. **Resources** column: Documentation, Help Center, API, Status Page (i18n)
10. **Legal** column: Privacy Policy, Terms of Service, Cookie Policy (i18n)
11. Footer includes social media icons and copyright notice
12. Footer displays language selector (EN/FR toggle)
13. All navigation labels and footer links fully translated

## Tasks / Subtasks

- [ ] Create global navigation component (AC: 1, 2, 3, 4, 5)
  - [ ] Create `components/layout/navbar.tsx` component
  - [ ] Add logo linking to /
  - [ ] Add public nav links: Features, Pricing, About, Blog, Contact
  - [ ] Check auth status and conditionally show Dashboard, Billing, Account for authenticated users
  - [ ] Add Sign Up / Log In buttons for unauthenticated users
  - [ ] Make navbar sticky with background blur on scroll
  - [ ] Implement mobile hamburger menu (use shadcn Sheet or custom)

- [ ] Add sticky scroll effect (AC: 4)
  - [ ] Use scroll event listener or Intersection Observer
  - [ ] Add backdrop-blur and background color on scroll
  - [ ] Smooth transition

- [ ] Create footer component (AC: 6, 7, 8, 9, 10, 11, 12)
  - [ ] Create `components/layout/footer.tsx` component
  - [ ] Create 4-column layout (responsive: 1 col mobile, 4 cols desktop)
  - [ ] Add Product column links
  - [ ] Add Company column links
  - [ ] Add Resources column links
  - [ ] Add Legal column links
  - [ ] Add social media icons
  - [ ] Add copyright notice
  - [ ] Add language selector (EN/FR toggle)

- [ ] Product column links (AC: 7)
  - [ ] Features → /features (i18n: `Footer.product_features`)
  - [ ] Pricing → /pricing (i18n: `Footer.product_pricing`)
  - [ ] Templates → /templates (placeholder, optional)
  - [ ] Integrations → /integrations (placeholder, optional)

- [ ] Company column links (AC: 8)
  - [ ] About → /about (i18n: `Footer.company_about`)
  - [ ] Blog → /blog (i18n: `Footer.company_blog`)
  - [ ] Contact → /contact (i18n: `Footer.company_contact`)
  - [ ] Careers → /careers (placeholder, optional)

- [ ] Resources column links (AC: 9)
  - [ ] Documentation → /docs (placeholder, optional)
  - [ ] Help Center → /help (placeholder, optional)
  - [ ] API → /api-docs (placeholder, optional)
  - [ ] Status Page → external link (optional)

- [ ] Legal column links (AC: 10)
  - [ ] Privacy Policy → /privacy (i18n: `Footer.legal_privacy`)
  - [ ] Terms of Service → /terms (i18n: `Footer.legal_terms`)
  - [ ] Cookie Policy → /cookies (i18n: `Footer.legal_cookies`)

- [ ] Add social media icons (AC: 11)
  - [ ] LinkedIn icon + link (optional)
  - [ ] Twitter/X icon + link (optional)
  - [ ] GitHub icon + link (optional)

- [ ] Add copyright notice (AC: 11)
  - [ ] Display: "© 2025 Survey Platform. All rights reserved." (i18n: `Footer.copyright`)

- [ ] Add language selector (AC: 12)
  - [ ] Create language toggle (EN/FR)
  - [ ] Use next-intl locale switching
  - [ ] Display flag icons or language codes

- [ ] Add internationalization strings (AC: 13)
  - [ ] Add EN translations to `locales/en.json`: all Nav.* and Footer.* keys
  - [ ] Add FR translations to `locales/fr.json`

- [ ] Testing and validation
  - [ ] Test navbar sticky behavior on scroll
  - [ ] Test mobile hamburger menu
  - [ ] Test authenticated vs unauthenticated nav items
  - [ ] Test all footer links navigate correctly
  - [ ] Test language selector switches locale
  - [ ] Test responsive layout
  - [ ] Test language switching (EN/FR)

## Dev Notes

### Epic Context

This is Story 7.11 in Epic 7: Marketing Website & Landing Pages. This story creates global navigation and footer components that will be used across all marketing and app pages.

### Tech Stack

- **Framework**: Next.js 16 (App Router)
- **React**: 19
- **TypeScript**: 5.x
- **Styling**: Tailwind CSS 4.x
- **UI Components**: shadcn/ui (Sheet for mobile menu, Button)
- **Icons**: Lucide React
- **Auth**: better-auth (for checking auth status)
- **i18n**: next-intl

### Source Tree

- Navbar: `components/layout/navbar.tsx`
- Footer: `components/layout/footer.tsx`
- Mobile menu: `components/layout/mobile-menu.tsx` (optional, or within navbar)
- Language selector: `components/layout/language-selector.tsx`
- Root layout: `app/layout.tsx` (add navbar and footer)
- Translations: `locales/en.json` and `locales/fr.json`

### Navbar Design

- Fixed position: `fixed top-0 w-full z-50`
- Transparent initially, blur background on scroll
- Use Tailwind: `backdrop-blur-md bg-background/80`
- Mobile: hamburger icon (Menu from Lucide), use shadcn Sheet for slide-out menu

### Footer Design

- 4-column grid on desktop: `grid grid-cols-1 md:grid-cols-4 gap-8`
- Each column: heading + list of links
- Bottom row: social media icons, language selector, copyright
- Dark background with light text for contrast

### Auth Status Check

```typescript
import { auth } from "@/lib/auth"

const session = await auth()
const isAuthenticated = !!session
```

### Language Selector

Use next-intl's `useRouter` and `usePathname`:

```typescript
'use client'
import { useRouter, usePathname } from '@/navigation'

const LanguageSelector = () => {
  const router = useRouter()
  const pathname = usePathname()

  const switchLocale = (locale: 'en' | 'fr') => {
    router.replace(pathname, { locale })
  }

  return (
    <div>
      <button onClick={() => switchLocale('en')}>EN</button>
      <button onClick={() => switchLocale('fr')}>FR</button>
    </div>
  )
}
```

### Sticky Navbar Implementation

```typescript
'use client'
import { useEffect, useState } from 'react'

const Navbar = () => {
  const [isScrolled, setIsScrolled] = useState(false)

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 10)
    }
    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [])

  return (
    <nav className={`fixed top-0 w-full z-50 transition-all ${
      isScrolled ? 'backdrop-blur-md bg-background/80 shadow-md' : 'bg-transparent'
    }`}>
      {/* Nav content */}
    </nav>
  )
}
```

### Integration Points

- Add to `app/layout.tsx` for global navbar and footer
- Links to all marketing pages (Stories 7.1-7.10, 7.15)
- Uses better-auth for auth status (Epic 1)
- Language selector uses next-intl (Story 7.16)

### Testing

**Test File Location**: `__tests__/layout/navbar.test.tsx`, `__tests__/layout/footer.test.tsx`

**Testing Standards**:
- Test navbar renders with correct links
- Test authenticated vs unauthenticated navbar
- Test sticky scroll behavior
- Test mobile hamburger menu
- Test footer renders with all columns
- Test language selector switches locale
- Mock auth session
- Test i18n for both EN and FR

**Testing Frameworks**:
- Jest for test runner
- React Testing Library for component testing
- Mock better-auth session
- Mock next-intl
- Mock scroll events

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-06 | 1.0 | Initial story creation from Epic 7 | Sarah (PO Agent) |

## Dev Agent Record

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes

_To be filled by dev agent_

### File List

_To be filled by dev agent_

## QA Results

_To be filled by QA agent_
