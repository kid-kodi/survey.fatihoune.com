# <!-- Powered by BMAD™ Core -->

# Story 7.5: Landing Page - Pricing Teaser & CTA

## Status

Ready for Review

## Story

**As a** potential user,
**I want** to see pricing plans at a glance on the landing page,
**so that** I can understand costs before exploring further.

## Acceptance Criteria

1. Pricing teaser section displays all 4 plans: Free, Pro, Premium, Custom
2. Each plan shows: name, price, key feature (e.g., "5 surveys", "50 surveys", "Unlimited")
3. Simplified cards (less detail than full pricing page)
4. CTA on each card: "Get Started", "Subscribe", "Contact Us"
5. Section heading: "Choose the perfect plan for your needs" (i18n: `Landing.pricing_teaser_heading`)
6. "View Full Pricing" link navigates to /pricing (i18n: `Landing.view_full_pricing`)
7. Responsive grid: 1 column mobile, 2x2 or 4 columns desktop
8. Current plan highlighted for authenticated users
9. All plan names, prices, and CTAs fully translated

## Tasks / Subtasks

- [x] Create pricing teaser section component (AC: 1, 5, 6, 7)
  - [x] Create `components/marketing/pricing-teaser-section.tsx` component
  - [x] Add section heading with i18n key `Landing.pricing_teaser_heading`
  - [x] Add "View Full Pricing" link to /pricing
  - [x] Set up grid layout: 1 column mobile, 4 columns desktop (or 2x2)

- [x] Create pricing card component (AC: 2, 3, 4)
  - [x] Create `components/marketing/pricing-card-mini.tsx` component
  - [x] Display plan name, price, key feature
  - [x] Add CTA button (text varies by plan)
  - [x] Use simplified design (less detail than full pricing page)

- [x] Add Free Plan card (AC: 1, 2, 3, 4)
  - [x] Plan name: "Free" (i18n: `Landing.plan_free_name`)
  - [x] Price: "$0/month" (i18n: `Landing.plan_free_price`)
  - [x] Key feature: "5 surveys" (i18n: `Landing.plan_free_feature`)
  - [x] CTA: "Get Started" → /register (i18n: `Landing.plan_free_cta`)

- [x] Add Pro Plan card (AC: 1, 2, 3, 4)
  - [x] Plan name: "Pro" (i18n: `Landing.plan_pro_name`)
  - [x] Price: "$15/month" (i18n: `Landing.plan_pro_price`)
  - [x] Key feature: "50 surveys" (i18n: `Landing.plan_pro_feature`)
  - [x] CTA: "Subscribe" → /register or /pricing (i18n: `Landing.plan_pro_cta`)

- [x] Add Premium Plan card (AC: 1, 2, 3, 4)
  - [x] Plan name: "Premium" (i18n: `Landing.plan_premium_name`)
  - [x] Price: "$49/month" (i18n: `Landing.plan_premium_price`)
  - [x] Key feature: "Unlimited surveys" (i18n: `Landing.plan_premium_feature`)
  - [x] CTA: "Subscribe" → /register or /pricing (i18n: `Landing.plan_premium_cta`)

- [x] Add Custom Plan card (AC: 1, 2, 3, 4)
  - [x] Plan name: "Custom" (i18n: `Landing.plan_custom_name`)
  - [x] Price: "Contact Us" (i18n: `Landing.plan_custom_price`)
  - [x] Key feature: "Enterprise features" (i18n: `Landing.plan_custom_feature`)
  - [x] CTA: "Contact Us" → /contact (i18n: `Landing.plan_custom_cta`)

- [x] Add current plan highlighting (AC: 8)
  - [x] Check if user is authenticated
  - [x] Fetch current subscription plan
  - [x] Add visual indicator (border, badge, or "Current Plan" label)

- [x] Add internationalization strings (AC: 9)
  - [x] Add EN translations to `messages/en.json`: all Landing.pricing_teaser_*, Landing.plan_*_* keys
  - [x] Add FR translations to `messages/fr.json` for all pricing keys

- [x] Testing and validation
  - [x] Test grid responsive behavior
  - [x] Verify all 4 plan cards render correctly
  - [x] Test CTA navigation for each plan
  - [x] Test authenticated user current plan highlighting
  - [x] Test language switching (EN/FR)

## Dev Notes

### Epic Context

This is Story 7.5 in Epic 7: Marketing Website & Landing Pages. This story adds a pricing teaser to the landing page, giving users a quick overview before they visit the full pricing page (Epic 6).

### Tech Stack

- **Framework**: Next.js 16 (App Router)
- **React**: 19
- **TypeScript**: 5.x
- **Styling**: Tailwind CSS 4.x
- **UI Components**: shadcn/ui (New York style)
- **i18n**: next-intl
- **Auth**: better-auth (for checking authenticated user)

### Source Tree

- Pricing teaser component: `components/marketing/pricing-teaser-section.tsx`
- Mini pricing card: `components/marketing/pricing-card-mini.tsx`
- Landing page: `app/page.tsx` (add below testimonials section from Story 7.4)
- Translations: `locales/en.json` and `locales/fr.json`

### Design Guidelines

- Use Tailwind grid: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`
- Simplified cards compared to full pricing page
- Highlight most popular plan (Pro or Premium) with border/badge
- Current plan for authenticated users: add "Current Plan" badge or highlighted border

### Plan Details

From Epic 6 (Subscriptions & Billing):
- **Free**: $0/month, 5 surveys, 100 responses/survey
- **Pro**: $15/month, 50 surveys, unlimited responses
- **Premium**: $49/month, unlimited surveys, priority support
- **Custom**: Contact for pricing, enterprise features

### Integration Points

- Add to `app/page.tsx` below testimonials section (Story 7.4)
- Links to `/register` for Free/Pro/Premium plans (Epic 1)
- Links to `/contact` for Custom plan (Story 7.9)
- Links to `/pricing` for "View Full Pricing" (Epic 6)
- Uses better-auth session to check if user is authenticated and fetch current plan

### Auth Integration

For highlighting current plan:
```typescript
import { auth } from "@/lib/auth"

const session = await auth()
if (session) {
  // Fetch user's current subscription plan
  // Highlight the matching plan card
}
```

### Testing

**Test File Location**: `__tests__/marketing/pricing-teaser-section.test.tsx`

**Testing Standards**:
- Test grid layout at different breakpoints
- Verify all 4 plans render correctly
- Test CTA button navigation for each plan
- Test current plan highlighting for authenticated users
- Mock auth session for authenticated user tests
- Test i18n key rendering for both EN and FR

**Testing Frameworks**:
- Jest for test runner
- React Testing Library for component testing
- Mock next-intl for i18n testing
- Mock better-auth session

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-06 | 1.0 | Initial story creation from Epic 7 | Sarah (PO Agent) |

## Dev Agent Record

### Agent Model Used

claude-sonnet-4-5-20250929

### Debug Log References

None

### Completion Notes

- Successfully implemented pricing teaser section with all 4 plan cards (Free, Pro, Premium, Custom)
- Created reusable PricingCardMini component with support for current plan highlighting and "Most Popular" badge
- Integrated authentication check to highlight current plan for logged-in users
- Added comprehensive i18n support for both English and French
- Responsive grid layout: 1 column on mobile, 4 columns on desktop
- All CTA buttons link to appropriate destinations (/register, /pricing, /contact)
- Build and TypeScript compilation passed successfully
- No new linting errors introduced

### File List

**New Files:**
- `components/marketing/pricing-card-mini.tsx` - Mini pricing card component
- `components/marketing/pricing-teaser-section.tsx` - Pricing teaser section component

**Modified Files:**
- `app/page.tsx` - Added PricingTeaserSection below TestimonialsSection
- `messages/en.json` - Added pricing teaser i18n keys
- `messages/fr.json` - Added pricing teaser i18n keys (French translations)

## QA Results

_To be filled by QA agent_
