# <!-- Powered by BMAD™ Core -->

# Story 7.5: Landing Page - Pricing Teaser & CTA

## Status

Draft

## Story

**As a** potential user,
**I want** to see pricing plans at a glance on the landing page,
**so that** I can understand costs before exploring further.

## Acceptance Criteria

1. Pricing teaser section displays all 4 plans: Free, Pro, Premium, Custom
2. Each plan shows: name, price, key feature (e.g., "5 surveys", "50 surveys", "Unlimited")
3. Simplified cards (less detail than full pricing page)
4. CTA on each card: "Get Started", "Subscribe", "Contact Us"
5. Section heading: "Choose the perfect plan for your needs" (i18n: `Landing.pricing_teaser_heading`)
6. "View Full Pricing" link navigates to /pricing (i18n: `Landing.view_full_pricing`)
7. Responsive grid: 1 column mobile, 2x2 or 4 columns desktop
8. Current plan highlighted for authenticated users
9. All plan names, prices, and CTAs fully translated

## Tasks / Subtasks

- [ ] Create pricing teaser section component (AC: 1, 5, 6, 7)
  - [ ] Create `components/marketing/pricing-teaser-section.tsx` component
  - [ ] Add section heading with i18n key `Landing.pricing_teaser_heading`
  - [ ] Add "View Full Pricing" link to /pricing
  - [ ] Set up grid layout: 1 column mobile, 4 columns desktop (or 2x2)

- [ ] Create pricing card component (AC: 2, 3, 4)
  - [ ] Create `components/marketing/pricing-card-mini.tsx` component
  - [ ] Display plan name, price, key feature
  - [ ] Add CTA button (text varies by plan)
  - [ ] Use simplified design (less detail than full pricing page)

- [ ] Add Free Plan card (AC: 1, 2, 3, 4)
  - [ ] Plan name: "Free" (i18n: `Landing.plan_free_name`)
  - [ ] Price: "$0/month" (i18n: `Landing.plan_free_price`)
  - [ ] Key feature: "5 surveys" (i18n: `Landing.plan_free_feature`)
  - [ ] CTA: "Get Started" → /register (i18n: `Landing.plan_free_cta`)

- [ ] Add Pro Plan card (AC: 1, 2, 3, 4)
  - [ ] Plan name: "Pro" (i18n: `Landing.plan_pro_name`)
  - [ ] Price: "$15/month" (i18n: `Landing.plan_pro_price`)
  - [ ] Key feature: "50 surveys" (i18n: `Landing.plan_pro_feature`)
  - [ ] CTA: "Subscribe" → /register or /pricing (i18n: `Landing.plan_pro_cta`)

- [ ] Add Premium Plan card (AC: 1, 2, 3, 4)
  - [ ] Plan name: "Premium" (i18n: `Landing.plan_premium_name`)
  - [ ] Price: "$49/month" (i18n: `Landing.plan_premium_price`)
  - [ ] Key feature: "Unlimited surveys" (i18n: `Landing.plan_premium_feature`)
  - [ ] CTA: "Subscribe" → /register or /pricing (i18n: `Landing.plan_premium_cta`)

- [ ] Add Custom Plan card (AC: 1, 2, 3, 4)
  - [ ] Plan name: "Custom" (i18n: `Landing.plan_custom_name`)
  - [ ] Price: "Contact Us" (i18n: `Landing.plan_custom_price`)
  - [ ] Key feature: "Enterprise features" (i18n: `Landing.plan_custom_feature`)
  - [ ] CTA: "Contact Us" → /contact (i18n: `Landing.plan_custom_cta`)

- [ ] Add current plan highlighting (AC: 8)
  - [ ] Check if user is authenticated
  - [ ] Fetch current subscription plan
  - [ ] Add visual indicator (border, badge, or "Current Plan" label)

- [ ] Add internationalization strings (AC: 9)
  - [ ] Add EN translations to `locales/en.json`: all Landing.pricing_teaser_*, Landing.plan_*_* keys
  - [ ] Add FR translations to `locales/fr.json` for all pricing keys

- [ ] Testing and validation
  - [ ] Test grid responsive behavior
  - [ ] Verify all 4 plan cards render correctly
  - [ ] Test CTA navigation for each plan
  - [ ] Test authenticated user current plan highlighting
  - [ ] Test language switching (EN/FR)

## Dev Notes

### Epic Context

This is Story 7.5 in Epic 7: Marketing Website & Landing Pages. This story adds a pricing teaser to the landing page, giving users a quick overview before they visit the full pricing page (Epic 6).

### Tech Stack

- **Framework**: Next.js 16 (App Router)
- **React**: 19
- **TypeScript**: 5.x
- **Styling**: Tailwind CSS 4.x
- **UI Components**: shadcn/ui (New York style)
- **i18n**: next-intl
- **Auth**: better-auth (for checking authenticated user)

### Source Tree

- Pricing teaser component: `components/marketing/pricing-teaser-section.tsx`
- Mini pricing card: `components/marketing/pricing-card-mini.tsx`
- Landing page: `app/page.tsx` (add below testimonials section from Story 7.4)
- Translations: `locales/en.json` and `locales/fr.json`

### Design Guidelines

- Use Tailwind grid: `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6`
- Simplified cards compared to full pricing page
- Highlight most popular plan (Pro or Premium) with border/badge
- Current plan for authenticated users: add "Current Plan" badge or highlighted border

### Plan Details

From Epic 6 (Subscriptions & Billing):
- **Free**: $0/month, 5 surveys, 100 responses/survey
- **Pro**: $15/month, 50 surveys, unlimited responses
- **Premium**: $49/month, unlimited surveys, priority support
- **Custom**: Contact for pricing, enterprise features

### Integration Points

- Add to `app/page.tsx` below testimonials section (Story 7.4)
- Links to `/register` for Free/Pro/Premium plans (Epic 1)
- Links to `/contact` for Custom plan (Story 7.9)
- Links to `/pricing` for "View Full Pricing" (Epic 6)
- Uses better-auth session to check if user is authenticated and fetch current plan

### Auth Integration

For highlighting current plan:
```typescript
import { auth } from "@/lib/auth"

const session = await auth()
if (session) {
  // Fetch user's current subscription plan
  // Highlight the matching plan card
}
```

### Testing

**Test File Location**: `__tests__/marketing/pricing-teaser-section.test.tsx`

**Testing Standards**:
- Test grid layout at different breakpoints
- Verify all 4 plans render correctly
- Test CTA button navigation for each plan
- Test current plan highlighting for authenticated users
- Mock auth session for authenticated user tests
- Test i18n key rendering for both EN and FR

**Testing Frameworks**:
- Jest for test runner
- React Testing Library for component testing
- Mock next-intl for i18n testing
- Mock better-auth session

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-06 | 1.0 | Initial story creation from Epic 7 | Sarah (PO Agent) |

## Dev Agent Record

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes

_To be filled by dev agent_

### File List

_To be filled by dev agent_

## QA Results

_To be filled by QA agent_
